<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- css -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- icon -->
    <link rel="shortcut icon" href="icon/ishari.png" type="image/x-icon" />

    <title>Muhud ISHARI</title>
  </head>
  <body>
    <div class="music">
      <h2 class="title">Muhud ISHARI</h2>
      <div class="player">
        <audio src=""></audio>
        <div class="btns">
          <span class="prev"><ion-icon name="play-back-circle-outline"></ion-icon></span>
          <span class="playPause"><ion-icon name="play-circle-outline"></ion-icon></span>
          <span class="next"><ion-icon name="play-forward-circle-outline"></ion-icon></span>
        </div>
      </div>
    </div>
    <!-- JavaScript -->
    <!-- JavaScript Bundle with Popper -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <script>
      const title = document.querySelector('.title');
      const prev = document.querySelector('.prev');
      const playPause = document.querySelector('.playPause');
      const next = document.querySelector('.next');
      const audio = document.querySelector('audio');

      const songList = [
        {
          path: 'muhud/Muhud ibtida.mp3',
          songName: 'Muhud Ibtida',
        },
        {
          path: 'muhud/Muhud Bisyahri.mp3',
          songName: 'Muhud Bisyahri',
        },
        {
          path: 'muhud/Muhud Tanaqol.mp3',
          songName: 'Muhud Tanaqol',
        },
        {
          path: 'muhud/Muhud Wulidal Habib.mp3',
          songName: 'Muhud Wulidal Habib',
        },
        {
          path: 'muhud/Muhud Sholla Alaika.mp3',
          songName: 'Muhud Sholla Alaika',
        },
        {
          path: 'muhud/Muhud Badat Lana.mp3',
          songName: 'Muhud Badat Lana',
        },
        {
          path: 'muhud/Muhud Mahalul Qiyam.mp3',
          songName: 'Muhud Mahalul Qiyam',
        },
        {
          path: 'muhud/Muhud Habibun.mp3',
          songName: 'Muhud Habibun',
        },
      ];

      let song_Playing = false;

      //play song
      function playSong() {
        song_Playing = true;
        audio.play();
        playPause.classList.add('active');
        // change icon
        playPause.innerHTML = '<ion-icon name="pause-circle-outline"></ion-icon>';
      }

      //pause song
      function pauseSong() {
        song_Playing = false;
        audio.pause();
        playPause.classList.remove('active');
        // change icon
        playPause.innerHTML = '<ion-icon name="play-circle-outline"></ion-icon>';
      }

      // play or pause
      playPause.addEventListener('click', () => (song_Playing ? pauseSong() : playSong()));

      //load song
      function loadSong(songList) {
        title.textContent = songList.songName;
        audio.src = songList.path;
      }

      //current song
      let i = 0;

      loadSong(songList[i]);

      //previous song
      function prevSong() {
        i--;
        if (i < 0) {
          i = songList.length - 1;
        }
        loadSong(songList[i]);
        playSong();
      }
      prev.addEventListener('click', prevSong);

      //next song
      function nextSong() {
        i++;
        if (i > songList.length - 1) {
          i = 0;
        }
        loadSong(songList[i]);
        playSong();
      }
      next.addEventListener('click', nextSong);
    </script>
  </body>
</html>
